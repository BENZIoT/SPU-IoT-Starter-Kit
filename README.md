üü¶ ESP32 All-In-One IoT Controller

‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î ‚Ä¢ ‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå ‚Ä¢ RGB LED ‚Ä¢ VR (ADC) ‚Ä¢ SHT31 ‚Ä¢ OLED ‚Ä¢ Buzzer ‚Ä¢ MQTT

üìå ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö IoT ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£‡∏ö‡∏ô ESP32 ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢

‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î 2 ‡∏õ‡∏∏‡πà‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏° Debounce + Edge detect

‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå 2 ‡∏ä‡πà‡∏≠‡∏á (Active LOW toggle)

RGB LED ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (WiFi, MQTT, Error)

VR (Potentiometer) ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ ADC

SHT31 ‡∏≠‡πà‡∏≤‡∏ô Temperature + Humidity

OLED SSD1306 ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö Real-Time

Passive Buzzer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

MQTT ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏¢‡∏Å Topic

MQTT SUB ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏ú‡πà‡∏≤‡∏ô Topic ‡πÑ‡∏î‡πâ

‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô Smart Home, Automation, Classroom IoT ‡πÅ‡∏•‡∏∞ Project Showcase

üß© Features
‚úî Input / Output

‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î 2 ‡∏ï‡∏±‡∏ß‡πÅ‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡∏Å‡∏î (Falling Edge)

‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå 2 ‡∏ä‡πà‡∏≠‡∏á Active LOW (‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ï‡∏¥‡∏î ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏î‡∏±‡∏ö)

RGB LED ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö

‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ü‡πâ‡∏≤ = ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° WiFi

‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á = ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° MQTT

‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ñ‡πâ‡∏≤‡∏á = ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° MQTT ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡πÅ‡∏î‡∏á = Error

Buzzer ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á MQTT

‚úî Sensors

VR ADC ‡∏ö‡∏ô pin 36 ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• 0‚Äì100%

SHT31 ‚Üí Temperature & Humidity

‚úî Display

OLED SSD1306 ‚Üí ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤ R1, R2, Temp, Hum, VR ‡∏ó‡∏∏‡∏Å Loop

‚úî MQTT

‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏∂‡πâ‡∏ô EMQX ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô 5 Topic:

SPU/device1/temp
SPU/device1/hum
SPU/device1/vr
SPU/device1/relay1
SPU/device1/relay2


‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå:

SPU/device1/cmd/relay1
SPU/device1/cmd/relay2


Payload:

1       ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î
0       ‚Üí ‡∏õ‡∏¥‡∏î
toggle  ‚Üí ‡∏™‡∏•‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

üîå Wiring (ESP32 Pinout)
üîò Buttons
Function	Pin	Note
BTN A	0	INPUT_PULLUP
BTN B	4	INPUT_PULLUP
‚ö° Relay (Active LOW)
Relay	Pin	State
Relay 1	32	LOW = ON
Relay 2	14	LOW = ON
üåà RGB LED (Active LOW)
Color	Pin
Red	25
Green	26
Blue	27
üéõ VR (Potentiometer)
Function	Pin
VR ADC	36
üå° SHT31 + OLED (I2C)
Signal	Pin
SDA	21
SCL	22
üîä Buzzer
Function	Pin
BUZZER	33

üì¶ Libraries Required
‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ú‡πà‡∏≤‡∏ô Arduino IDE ‚Üí Tools ‚Üí Manage Libraries
Library	Creator
Adafruit SHT31	Adafruit
Adafruit SSD1306	Adafruit
Adafruit GFX Library	Adafruit
PubSubClient	Nick O'Leary
Wire	Built-in
WiFi	Built-in

üåê MQTT Server (EMQX)
Host: broker.emqx.io
Port: 1883
Username: none
Password: none

üì° MQTT Topics Map
Publish
Topic	Data
SPU/device1/temp	Temperature (¬∞C)
SPU/device1/hum	Humidity (%)
SPU/device1/vr	VR Percent
SPU/device1/relay1	1/0
SPU/device1/relay2	1/0
Subscribe (Control)
Topic	Payload
SPU/device1/cmd/relay1	1, 0, toggle
SPU/device1/cmd/relay2	1, 0, toggle

üñ• ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á UI ‡∏ö‡∏ô OLED
R1: ON     R2: OFF
T:  25.3 C
H:  61.0 %
VR: 78 %


‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å loop

üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
1Ô∏è‚É£ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö WiFi + MQTT

‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÑ‡∏ü RGB
‡∏ñ‡πâ‡∏≤‡∏Ñ‡πâ‡∏≤‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå üéâ

2Ô∏è‚É£ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î

‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° A ‚Üí Relay1 ‚Üí ‡∏ï‡∏¥‡∏î/‡∏î‡∏±‡∏ö
‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° B ‚Üí Relay2 ‚Üí ‡∏ï‡∏¥‡∏î/‡∏î‡∏±‡∏ö

3Ô∏è‚É£ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö MQTT Subscribe (‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå)

‡∏™‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô EMQX Dashboard ‡∏´‡∏£‡∏∑‡∏≠ MQTTX:

‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå 1

Topic: SPU/device1/cmd/relay1
Payload: 1


Toggle ‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå 2

Topic: SPU/device1/cmd/relay2
Payload: toggle

4Ô∏è‚É£ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö MQTT Publish

‡∏î‡∏π‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏ö‡∏ö live ‡∏ó‡∏∏‡∏Å 0.1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
